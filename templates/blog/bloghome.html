{% extends 'base.html' %}
{% block blogactive %} active {% endblock blogactive %}

{% block js %}
<script>
    let preview = document.getElementsByClassName("preview");
    Array.from(preview).forEach((element)=>{
        element.innerHTML = element.innerText;
    })
</script>
{% endblock js %}
{% block body %}
<div class="container-fluid p-0 col-12 d-flex" style="height: 350px; background-color: #867fb3">
    <!-- Carousel wrapper -->
    <div class="col-6">
        <h2 class="text-center text-white p-5">Welcome Blog Post</h2>
        <p class="text-center text-light">Would you like to create a separate page for blog posts in WordPress? By default, <br> WordPress displays your blog posts on the home page.</p>
    </div>
    <div class="col-6">

        <img style="height: 350px; width: 100%;" src="/static/img/CDG.jpg" alt="">


    </div>
</div>

<div class="container-fluid p-5" style="background-color: #767f91;">
<div class="container " >
    
    {% for post in allpost %}
    <div class="card flex-md-row mb-4 shadow-sm h-md-250 h-50 col-10" style="background-color: #e3c394;">
        <div class="card-body d-flex flex-column align-items-start">
            
        
            <h3 class="mb-0">
                <a class="text-dark" href="/blog/{{post.slug}}">{{post.title}}</a>
            </h3>
            <br>
            <strong class="d-inline-block mb-2 text-primary">Article By {{post.author}}    <span class="badge bg-dark text-white">Views ({{post.views}})</span></strong>
            
            {% comment %} <div class="mb-1 text-muted">{{post.timesp}}</div> {% endcomment %}
            <p class="card-text mb-auto"><div class="preview">{{post.content|safe| truncatechars:200}}</div></p>
            <p class="card-text text-right"><small class="text-muted">{{post.timesp}}</small></p>

            <a class="btn btn-primary btn-lg" href="/blog/{{post.slug}}">Continue reading</a>
        </div>
        
    </div>
    {% endfor %}

</div>
</div>
{% endblock body %}